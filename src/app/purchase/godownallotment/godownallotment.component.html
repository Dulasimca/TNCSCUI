<app-menu *ngIf="canShowMenu"></app-menu>
<div class="ui-g-12 ui-md-12 ui-lg-12 content" style="margin: 0px !important">
  <p-panel>
      <p-header>
          <div class="ui-g panel-header">
            <div class="ui-g-12 ui-md-4 dashboard">Allotment - Godown Wise</div>
          </div>
        </p-header>
        <div class="ui-g ui-fluid">
          <p-toast position="top-center" key="t-err" [hideTransitionOptions]="'500ms'"></p-toast>
      <div class="ui-g-12 ui-md-12 ui-lg-12">
          <p-table [columns]="tenderAllotmentGodwonWiseCols" [value]="tenderAllotmentGodwonWiseData" [paginator]="true" [rows]="20">
            <ng-template pTemplate="colgroup" let-columns>
              <colgroup>
                <col *ngFor="let col of columns">
              </colgroup>
            </ng-template>
            <ng-template pTemplate="header" let-columns>
              <tr>
                <th *ngFor="let col of columns">
                  {{col.header}}
                </th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
              <tr [pSelectableRow]="rowData" (dblclick)="onSelectedRow(rowData, rowIndex)">
                <td *ngFor="let col of columns">
                  {{rowData[col.field]}}
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
        </div>
  </p-panel>
</div>
<p-dialog header="Godown Wise - Allotment" [contentStyle]="{'overflow':'scroll'}" [modal]="true" [maximizable]="true"
[(visible)]="showPane" [responsive]="true" [style]="{width: '1000px', height: '1500px !important'}">
<div class="ui-g-12 ui-fluid border-teal">
<form #f="ngForm" name="issuerMaster">  
   <div class="ui-g-12 ui-fluid dashboard">
    <div class="ui-g-1"></div>
    <div class="ui-g-6 ui-md-4">
        <label for="godown_name" class="label-fontsize">Godown Name</label>
        <p-dropdown #godown name="godown_name" class="ui-g-12 ui-fluid dashboard" [options]="regionOptions" [(ngModel)]="GCode"
        (onClick)="onSelect('gd', 'click')" (keydown.enter)="onSelect('gd', 'enter')" [showClear]="true"
         filter="true" resetFilterOnHide="true">
      </p-dropdown>
      </div>
      <div class="ui-g-6 ui-md-4">
          <label for="commdity_type" class="label-fontsize">Commodity</label>
          <p-dropdown #commodity name="commdity_type" [options]="commodityOptions" [(ngModel)]="ICode"
          (onClick)="onSelect('comm', 'click')" (keydown.enter)="onSelect('comm', 'enter')"
             filter="true" resetFilterOnHide="true" [showClear]="true" required>
          </p-dropdown>
        </div>
       
    </div>
    <div class="ui-g-12 ui-fluid dashboard">
      <div class="ui-g-1"></div>
      <div class="ui-g-6 ui-md-4">
          <label for="Party_Name" class="label-fontsize">Party Name</label>
          <p-dropdown #Party name="Party_Name" [options]="partyNameOptions" [(ngModel)]="PartyCode"
          (onClick)="onSelect('p_id', 'click')" (keydown.enter)="onSelect('p_id', 'enter')" filter="true" resetFilterOnHide="true"
          optionLabel="label" [showClear]="true" required>
        </p-dropdown>
        </div>
      <div class="ui-g-6 ui-md-2">
          <label for="Qty" class="label-fontsize">Quantity</label>
          <input pInputText name="Qty" [(ngModel)]="Quantity" type="text" (input)="calculateQty(Quantity)"
          oninput="this.value = this.value.replace(/[^0-9.]/g, ''); this.value = this.value.replace(/(\..*)\./g, '$1');" 
          appDecimalDigit required/>
        </div>
        <div class="ui-g-6 ui-md-2">
            <label for="Allotted_Qty" class="label-fontsize">Allotted Quantity</label>
            <input pInputText name="Allotted_Qty" [(ngModel)]="AllottedQty" type="text" [readonly]="true"/>
          </div>
  </div>
  <div class="ui-g-12 ui-fluid dashboard">
      <div class="ui-g-1"></div>
      <div class="ui-g-6 ui-g-4">
          <div><label class="label-fontsize" for="RemarksText">Remarks</label></div>
      <textarea name="RemarksText" [rows]="3" [cols]="50" [(ngModel)]="Remarks" pInputTextarea required></textarea>
    </div>
    </div>
  <div class="ui-g-12 ui-fluid dashboard">
      <div class="ui-g-10"></div>
      <div class="ui-g-4 ui-md-1 dashboard">
        <button pButton label=Save [disabled]="(!Quantity || !GCode || !PartyCode || !ICode || (isViewed && !f.dirty))"
        (click)="onSave()"></button>
      </div>
  </div>
</form>
</div>
</p-dialog>
